(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},33:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),r=n(25),s=n.n(r),c=(n(33),n(4)),o=n(13),u=n(28),h=n(9),l=n(16),d=n.n(l),f=n(11),v=n(2),p=n(3),j=function(){function e(){Object(v.a)(this,e),this.layers=[]}return Object(p.a)(e,[{key:"draw",value:function(e,t){this.layers.forEach((function(n){n(e,t)}))}}]),e}(),x=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;Object(v.a)(this,e),this.matrix=t,this.tileSize=n}return Object(p.a)(e,[{key:"toIndex",value:function(e){return Math.floor(e/this.tileSize)}},{key:"toIndexRange",value:function(e,t){var n=Math.ceil(t/this.tileSize)*this.tileSize,i=[],a=e;do{i.push(this.toIndex(a)),a+=this.tileSize}while(a<n);return i}},{key:"getByIndex",value:function(e,t){var n=this.matrix.get(e,t);if(n){var i=e*this.tileSize,a=i+this.tileSize,r=t*this.tileSize;return{tile:n,x1:i,x2:a,y1:r,y2:r+this.tileSize}}}},{key:"searchByPosition",value:function(e,t){return this.getByIndex(this.toIndex(e),this.toIndex(t))}},{key:"searchByRange",value:function(e,t,n,i){var a=this,r=[];return this.toIndexRange(e,t).forEach((function(e){a.toIndexRange(n,i).forEach((function(t){var n=a.getByIndex(e,t);n&&r.push(n)}))})),r}}]),e}(),b=function(){function e(){Object(v.a)(this,e),this.grid=[]}return Object(p.a)(e,[{key:"forEach",value:function(e){this.grid.forEach((function(t,n){t.forEach((function(t,i){e(t,n,i)}))}))}},{key:"get",value:function(e,t){var n=this.grid[e];if(n)return n[t]}},{key:"set",value:function(e,t,n){this.grid[e]||(this.grid[e]=[]),this.grid[e][t]=n}}]),e}(),g=function(){function e(t,n){Object(v.a)(this,e),this.set(t,n)}return Object(p.a)(e,[{key:"set",value:function(e,t){this.x=e,this.y=t}}]),e}(),y={TOP:Symbol("top"),BOTTOM:Symbol("bottom")},m=function(){function e(t){Object(v.a)(this,e),this.NAME=t}return Object(p.a)(e,[{key:"obstruct",value:function(){}},{key:"update",value:function(){console.warn("Unhandled update call in Trait")}}]),e}(),w=function(){function e(){Object(v.a)(this,e),this.pos=new g(0,0),this.vel=new g(0,0),this.size=new g(0,0),this.traits=[]}return Object(p.a)(e,[{key:"addTrait",value:function(e){this.traits.push(e),this[e.NAME]=e}},{key:"obstruct",value:function(e){var t=this;this.traits.forEach((function(n){n.obstruct(t,e)}))}},{key:"update",value:function(e){var t=this;this.traits.forEach((function(n){n.update(t,e)}))}}]),e}(),O=function(){function e(t){Object(v.a)(this,e),this.tiles=new x(t)}return Object(p.a)(e,[{key:"checkX",value:function(e){if(e.vel.x>0)e.pos.x+e.size.x;else{if(!(e.vel.x<0))return;e.pos.x}this.tiles.searchByRange(e.pos.x,e.pos.x+e.size.x,e.pos.y,e.pos.y+e.size.y).forEach((function(t){"ground"===t.tile.type&&(e.vel.x>0?e.pos.x+e.size.x>t.x1&&(e.pos.x=t.x1-e.size.x,e.vel.x=0):e.vel.x<0&&e.pos.x<t.x2&&(e.pos.x=t.x2,e.vel.x=0))}))}},{key:"checkY",value:function(e){if(e.vel.y>0)e.pos.y+e.size.y;else{if(!(e.vel.y<0))return;e.pos.y}this.tiles.searchByRange(e.pos.x,e.pos.x+e.size.x,e.pos.y,e.pos.y+e.size.y).forEach((function(t){"ground"===t.tile.type&&(e.vel.y>0?e.pos.y+e.size.y>t.y1&&(e.pos.y=t.y1-e.size.y,e.vel.y=0,e.obstruct(y.BOTTOM)):e.vel.y<0&&e.pos.y<t.y2&&(e.pos.y=t.y2,e.vel.y=0,e.obstruct(y.TOP)))}))}},{key:"test",value:function(e){this.checkY(e)}}]),e}(),k=function(){function e(){Object(v.a)(this,e),this.gravity=1e3,this.totalTime=0,this.comp=new j,this.entities=new Set,this.tileCollider=null}return Object(p.a)(e,[{key:"setCollisionGrid",value:function(e){this.tileCollider=new O(e)}},{key:"update",value:function(e){var t=this;this.entities.forEach((function(n){n.update(e),n.pos.x+=n.vel.x*e,t.tileCollider.checkX(n),n.pos.y+=n.vel.y*e,t.tileCollider.checkY(n),n.vel.y+=t.gravity*e,t.tileCollider.test(n)})),this.totalTime+=e}}]),e}();var T=n(27),z=function(){function e(t,n,i){Object(v.a)(this,e),this.image=t,this.width=n,this.height=i,this.tiles=new Map,this.animation=new Map}return Object(p.a)(e,[{key:"defineAnim",value:function(e,t){this.animation.set(e,t)}},{key:"define",value:function(e,t,n,i,a){var r=this,s=[!1,!0].map((function(e){var s=document.createElement("canvas");s.width=i,s.height=a;var c=s.getContext("2d");return e&&(c.scale(-1,1),c.translate(-i,0)),c.drawImage(r.image,t,n,i,a,0,0,i,a),s}));this.tiles.set(e,s)}},{key:"defineTile",value:function(e,t,n){this.define(e,t*this.width,n*this.height,this.width,this.height)}},{key:"draw",value:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this.tiles.get(e)[a?1:0];t.drawImage(r,n,i)}},{key:"drawAnim",value:function(e,t,n,i,a){var r=this.animation.get(e);this.drawtile(r(a),t,n,i)}},{key:"drawtile",value:function(e,t,n,i){this.draw(e,t,n*this.width,i*this.height)}}]),e}();function E(e,t){return function(n){var i=Math.floor(n/t)%e.length;return e[i]}}function S(e){return fetch(e).then((function(e){return e.json()}))}function M(e){return S("./sprites/".concat(e,".json")).then((function(e){return Promise.all([e,(t=e.imageURL,new Promise((function(e){var n=new Image;n.addEventListener("load",(function(){e(n)})),n.src=t})))]);var t})).then((function(e){var t=Object(h.a)(e,2),n=t[0],i=t[1],a=new z(i,n.tileW,n.tileH);return n.tiles&&n.tiles.forEach((function(e){a.defineTile(e.name,e.index[0],e.index[1])})),n.frames&&n.frames.forEach((function(e){a.define.apply(a,[e.name].concat(Object(T.a)(e.rect)))})),n.animations&&n.animations.forEach((function(e){var t=E(e.frames,e.frameLen);a.defineAnim(e.name,t)})),a}))}var I=d.a.mark(C),N=d.a.mark(B);function R(e){return S("./levels/".concat(e,".json")).then((function(e){return Promise.all([e,M(e.spriteSheet)])})).then((function(e){var t=Object(h.a)(e,2),n=t[0],i=t[1],a=new k,r=function(e,t){var n,i=new b,a=Object(f.a)(F(e,t));try{for(a.s();!(n=a.n()).done;){var r=n.value,s=r.tile,c=r.x,o=r.y;i.set(c,o,{type:s.type})}}catch(u){a.e(u)}finally{a.f()}return i}(n.layers.reduce((function(e,t){return e.concat(t.tiles)}),[]),n.patterns);a.setCollisionGrid(r),n.layers.forEach((function(e){var t=function(e,t){var n,i=new b,a=Object(f.a)(F(e,t));try{for(a.s();!(n=a.n()).done;){var r=n.value,s=r.tile,c=r.x,o=r.y;i.set(c,o,{name:s.name})}}catch(u){a.e(u)}finally{a.f()}return i}(e.tiles,n.patterns),r=function(e,t,n){var i=new x(t),a=document.createElement("canvas");a.width=550,a.height=640;var r=a.getContext("2d");function s(i,s){r.clearRect(0,0,a.width,a.height);for(var c=function(a){var s=t.grid[a];s&&s.forEach((function(t,s){n.animation.has(t.name)?n.drawAnim(t.name,r,a-i,s,e.totalTime):n.drawtile(t.name,r,a-i,s)}))},o=i;o<=s;++o)c(o)}return function(e,t){var n=i.toIndex(t.size.x),r=i.toIndex(t.pos.x);s(r,r+n),e.drawImage(a,-t.pos.x%16,-t.pos.y)}}(a,t,i);a.comp.layers.push(r)}));var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,i=document.createElement("canvas");i.width=t,i.height=n;var a=i.getContext("2d");return function(r,s){e.forEach((function(e){a.clearRect(0,0,t,n),e.draw(a),r.drawImage(i,e.pos.x-s.pos.x,e.pos.y-s.pos.y)}))}}(a.entities);return a.comp.layers.push(s),a}))}function C(e,t,n,i){var a,r,s,c;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:a=e+t,r=n+i,s=e;case 3:if(!(s<a)){o.next=14;break}c=n;case 5:if(!(c<r)){o.next=11;break}return o.next=8,{x:s,y:c};case 8:++c,o.next=5;break;case 11:++s,o.next=3;break;case 14:case"end":return o.stop()}}),I)}function P(e){if(4===e.length){var t=Object(h.a)(e,4);return C(t[0],t[1],t[2],t[3])}if(3===e.length){var n=Object(h.a)(e,3);return C(n[0],n[1],n[2],1)}if(2===e.length){var i=Object(h.a)(e,2);return C(i[0],1,i[1],1)}}function B(e){var t,n,i,a,r,s;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t=Object(f.a)(e),c.prev=1,t.s();case 3:if((n=t.n()).done){c.next=24;break}i=n.value,a=Object(f.a)(P(i)),c.prev=6,a.s();case 8:if((r=a.n()).done){c.next=14;break}return s=r.value,c.next=12,s;case 12:c.next=8;break;case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(6),a.e(c.t0);case 19:return c.prev=19,a.f(),c.finish(19);case 22:c.next=3;break;case 24:c.next=29;break;case 26:c.prev=26,c.t1=c.catch(1),t.e(c.t1);case 29:return c.prev=29,t.f(),c.finish(29);case 32:case"end":return c.stop()}}),N,null,[[1,26,29,32],[6,16,19,22]])}function F(e,t){var n=[];return function e(i,a,r){var s,c=Object(f.a)(i);try{for(c.s();!(s=c.n()).done;){var o,u=s.value,h=Object(f.a)(B(u.ranges));try{for(h.s();!(o=h.n()).done;){var l=o.value,d=l.x,v=l.y,p=d+a,j=v+r;if(u.pattern)e(t[u.pattern].tiles,p,j);else n.push({tile:u,x:p,y:j})}}catch(x){h.e(x)}finally{h.f()}}}catch(x){c.e(x)}finally{c.f()}}(e,0,0),n}var _=n(18),A=n(17),L=function(e){Object(_.a)(n,e);var t=Object(A.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this,"go")).dir=0,e.acceleration=400,e.deceleration=300,e.dragFactor=2e-4,e.distance=0,e.heading=1,e}return Object(p.a)(n,[{key:"update",value:function(e,t){var n=Math.abs(e.vel.x);if(0!==this.dir)e.vel.x+=this.acceleration*this.dir*t,e.jump?!1===e.jump.falling&&(this.heading=this.dir):this.heading=this.dir;else if(0!==e.vel.x){var i=Math.min(n,this.deceleration*t);e.vel.x+=e.vel.x>0?-i:i}else this.distance=0;var a=this.dragFactor*e.vel.x*n;e.vel.x-=a,this.distance+=n*t}}]),n}(m),q=function(e){Object(_.a)(n,e);var t=Object(A.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this,"jump")).ready=0,e.duration=.5,e.velocity=200,e.engageTime=0,e.requestTime=0,e.gracePeriod=.1,e.speedBoost=.1,e}return Object(p.a)(n,[{key:"falling",get:function(){return this.ready<0}},{key:"start",value:function(){this.requestTime=this.gracePeriod}},{key:"cancel",value:function(){this.engageTime=0,this.requestTime=0}},{key:"obstruct",value:function(e,t){t===y.BOTTOM?this.ready=1:t===y.TOP&&this.cancel()}},{key:"update",value:function(e,t){this.requestTime>0&&(this.ready>0&&(this.engageTime=.3,this.requestTime=0),this.requestTime-=t),this.engageTime>0&&(e.vel.y=-this.velocity+Math.abs(e.vel.x)*this.speedBoost,this.engageTime-=t),this.ready--}}]),n}(m);function V(){return M("mario").then((function(e){var t=new w;t.size.set(50,50),t.addTrait(new L),t.addTrait(new q);var n=E(["run-1","run-2"],15);return t.draw=function(i){e.draw(function(e){return e.jump.falling?"jump":0!==e.go.dir?e.vel.x>0&&e.go.dir<0||e.vel.x<0&&e.go.dir>0?"break":n(e.go.distance):"player"}(t),i,0,0,this.go.heading<0)},t}))}var G=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/60;Object(v.a)(this,e);var i=0,a=0;this.updateProxy=function(e){for((i+=(e-a)/1e3)>1&&(i=1);i>n;)t.update(n),i-=n;a=e,t.enqueue()}}return Object(p.a)(e,[{key:"enqueue",value:function(){requestAnimationFrame(this.updateProxy)}},{key:"start",value:function(){this.enqueue()}}]),e}(),J=function(){function e(){Object(v.a)(this,e),this.keyStates=new Map,this.keyMap=new Map}return Object(p.a)(e,[{key:"addMapping",value:function(e,t){this.keyMap.set(e,t)}},{key:"handleEvent",value:function(e){var t=e.code;if(this.keyMap.has(t)){e.preventDefault();var n="keydown"===e.type?1:0;this.keyStates.get(t)!==n&&(this.keyStates.set(t,n),this.keyMap.get(t)(n))}}},{key:"listenTo",value:function(e){var t=this;["keydown","keyup"].forEach((function(n){e.addEventListener(n,(function(e){t.handleEvent(e)}))}))}}]),e}();var U=function e(){Object(v.a)(this,e),this.pos=new g(0,0),this.size=new g(500,320)};n(23);var Y=n(0),D=function(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=t.current;console.log(e);var n=e.getContext("2d");n.canvas.width=500,n.canvas.height=320,Promise.all([V(),R("1-1"),M("text").then((function(e){var t=new w;return t.size.set(200,100),t.draw=function(t){e.draw("text1",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(200,70),t.draw=function(t){e.draw("text2",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(200,80),t.draw=function(t){e.draw("text3",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(200,55),t.draw=function(t){e.draw("text4",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(0,20),t.draw=function(t){e.draw("text5",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(150,20),t.draw=function(t){e.draw("text6",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(200,150),t.draw=function(t){e.draw("text7",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(200,90),t.draw=function(t){e.draw("text8",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(200,150),t.draw=function(t){e.draw("text9",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(200,150),t.draw=function(t){e.draw("text10",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(200,100),t.draw=function(t){e.draw("text11",t,0,0)},t})),M("text").then((function(e){var t=new w;return t.size.set(200,150),t.draw=function(t){e.draw("text12",t,0,0)},t}))]).then((function(e){var t=Object(h.a)(e,14),i=t[0],a=t[1],r=t[2],s=t[3],c=t[4],o=t[5],u=t[6],l=t[7],d=t[8],f=t[9],v=t[10],p=t[11],j=t[12],x=t[13],b=new U;window.camera=b,i.pos.set(50,90),r.pos.set(50,90),s.pos.set(50,90),c.pos.set(500,80),o.pos.set(500,80),u.pos.set(720,80),l.pos.set(880,40),d.pos.set(1280,80),f.pos.set(1280,80),v.pos.set(1800,80),p.pos.set(2200,80),j.pos.set(2200,80),x.pos.set(2600,80),a.entities.add(i),a.entities.add(r),a.entities.add(s),a.entities.add(c),a.entities.add(o),a.entities.add(u),a.entities.add(l),a.entities.add(d),a.entities.add(f),a.entities.add(v),a.entities.add(p),a.entities.add(j),a.entities.add(x),function(e){var t=new J;return t.addMapping("Space",(function(t){t?e.jump.start():e.jump.cancel()})),t.addMapping("ArrowRight",(function(t){e.go.dir+=t?1:-1})),t.addMapping("ArrowLeft",(function(t){e.go.dir+=t?-1:1})),t}(i).listenTo(window);var g=new G(1/60);g.update=function(e){a.comp.draw(n,b),a.update(e),i.pos.x>100&&(b.pos.x=i.pos.x-100)},g.start()}))}),[]),Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("canvas",Object(u.a)({className:"canvas",ref:t},e)),Object(Y.jsx)("h2",{className:"guide",children:"Arrow key left & right to move! Space to jump!"})]})};function H(){return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)("ul",{children:Object(Y.jsxs)(o.b,{to:"/portfolio",className:"portfolio",children:[Object(Y.jsx)("span",{children:"Check"})," ",Object(Y.jsx)("span",{children:"out"})," ",Object(Y.jsx)("span",{children:"my"})," ",Object(Y.jsx)("span",{children:"projects"})," ",Object(Y.jsx)("span",{children:"here!"})]})})})}n(24);var X=function(){return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsxs)("div",{id:"title",className:"slide header",children:[Object(Y.jsx)("img",{id:"profilepic",src:"/img/me.jpg",alt:"Cannot view? Oh you just missed my handsome face"}),Object(Y.jsx)("h1",{children:"Kai Yang"}),Object(Y.jsx)("div",{className:"table center",children:Object(Y.jsx)("div",{className:"monitor-wrapper center",children:Object(Y.jsx)("div",{className:"monitor center",children:Object(Y.jsx)("p",{className:"text1 center",children:"Data Enthusiast | Problem Solver | JavaScript Lover"})})})})]}),Object(Y.jsxs)("div",{id:"slide1",className:"slide",children:[Object(Y.jsxs)("div",{className:"title",children:[Object(Y.jsx)("h1",{children:"VFT Reader with Machine Learning"}),Object(Y.jsxs)("p",{children:["Singapore Eye Research Institute (SERI) processes thousands of ",Object(Y.jsx)("a",{href:"/img/VFTReport.TIF",children:"VFT Reports"})," everyday. It is crucial to automate the data extraction process. The VFT Reader consists of two main parts:"]}),Object(Y.jsx)("li",{children:"pytesseract for paragraph recognition"}),Object(Y.jsx)("li",{children:"Convolutional Neural Network (CNN) for axis graph reading"}),Object(Y.jsx)("p",{children:"The Convolutional Neural Network has been trained with over 200,000 digits and symbols data, and is able to achieve 99.58% accuracy."}),Object(Y.jsxs)("p",{children:["Visit this ",Object(Y.jsx)("a",{href:"https://github.com/kaiyang7766/VFTReader",target:"_blank",children:"link"})," to read the full strategies and documentations!"]})]}),Object(Y.jsx)("img",{id:"projectpic",src:"/img/SERI_logo.JPEG"})]}),Object(Y.jsx)("div",{id:"slide2",className:"slide",children:Object(Y.jsxs)("div",{className:"title",children:[Object(Y.jsx)("h1",{children:"Underground Mobility Sensing Project using multi-sensory data with Machine Learning"}),Object(Y.jsx)("p",{children:"Location information about commuter activities is vital for planning for travel disruptions and infrastructural development. However, GPS connectivity is lost when underground in our MRT networks. The Mobility Sensing Project aims to find innovative and novel ways to conduct location sensing using multi-sensory data collected in smartphones."}),Object(Y.jsxs)("p",{children:["Visit this ",Object(Y.jsx)("a",{href:"https://github.com/kaiyang7766/UndergroundMobilitySensing",target:"_blank",children:"link"})," to find out more!"]}),Object(Y.jsx)("p",{}),Object(Y.jsx)("img",{id:"projectpic",src:"/img/LTA_logo.png"})]})}),Object(Y.jsxs)("div",{id:"slide3",className:"slide",children:[Object(Y.jsxs)("div",{className:"title",children:[Object(Y.jsx)("h1",{children:"Breadtalk Traceability Online System"}),Object(Y.jsx)("p",{children:"Food Traceability System has always been a core in Food Safety measurements. In order to facilitate efficient tracking of raw materials back in my internship at BreadTalk, I created an online system using React.js for the production team to record down the daily usage of materials on the comfort of their phones."}),Object(Y.jsx)("p",{children:Object(Y.jsx)("a",{href:"https://github.com/kaiyang7766/breadtalkmockapp",target:"_blank",children:"Github code repository"})}),Object(Y.jsx)("p",{children:Object(Y.jsx)("a",{href:"https://focused-ardinghelli-c3b960.netlify.app/",target:"_blank",children:"Mock application interface (Only Traceability System is working)"})})]}),Object(Y.jsx)("img",{id:"projectpic",src:"/img/Breadtalk_logo.jpg"})]}),Object(Y.jsxs)("div",{id:"slide4",className:"slide header",children:[Object(Y.jsx)("h1",{children:"Connect with me!"}),Object(Y.jsx)("a",{href:"https://github.com/kaiyang7766",target:"_blank",children:Object(Y.jsx)("img",{id:"connectpic",src:"/img/Github_logo_white.png"})}),Object(Y.jsx)("a",{href:"https://www.linkedin.com/in/ang-kai-yang/",target:"_blank",children:Object(Y.jsx)("img",{id:"connectpic",src:"/img/LinkedIn_logo_white.png"})})]})]})},K=function(){return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(o.a,{children:Object(Y.jsxs)(c.c,{children:[Object(Y.jsxs)(c.a,{exact:!0,path:"/",children:[Object(Y.jsx)(D,{}),Object(Y.jsx)(H,{})]}),Object(Y.jsx)(c.a,{exact:!0,path:"/portfolio",children:Object(Y.jsx)(X,{})})]})})})};var W=function(){return Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(K,{})})};s.a.render(Object(Y.jsx)(a.a.StrictMode,{children:Object(Y.jsx)(W,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.5b95eb4d.chunk.js.map